import{r as l,j as e,L as b}from"./app-Cwv6Lo2-.js";import{t as j}from"./index-Brw4gkQ-.js";import{B as y}from"./button-BG3_co2O.js";import{D as S,b as v}from"./dialog-CMN5qItO.js";import{X as k}from"./x-9KIiAHlk.js";import{U as N}from"./user-layout-H5nEYdGt.js";import _ from"./about-section-DDbXGRMj.js";import E from"./carousel-section-CmHFu3bV.js";import D from"./cta-section-rs0gVY_j.js";import A from"./faq-section-C3S6Wonq.js";import L from"./latest-products-section-CE3zJONG.js";import P from"./program-section-DyRdzMBz.js";import M from"./testimony-section-BTqSSQDF.js";import T from"./tools-section-YdwZ5ar3.js";/* empty css            */import"./index-BNGqZOtg.js";import"./index-BcPcoHHn.js";import"./index-Cdqb3fCE.js";import"./utils-5Gb2FoSy.js";import"./index-D6ai65Ao.js";import"./Combination-D_Skvxhp.js";import"./createLucideIcon-Bv6foRtC.js";import"./sonner-CCckcjiX.js";import"./breadcrumbs-DQ6jcikc.js";import"./tooltip-C0fHRgeq.js";import"./index-BulgpOZn.js";import"./index-BSlbP0Zb.js";import"./index-5nV_q3NW.js";import"./floating-ui.react-dom-BpB-JhDQ.js";import"./index-C93NJCmq.js";import"./index-vc770dL4.js";import"./dropdown-menu-CNd6xGxf.js";import"./index-8evVcJHK.js";import"./check-BpJu_jyn.js";import"./avatar-TAAMRDGt.js";import"./use-initials-CQaL3me1.js";import"./user-Dq5QIm5W.js";import"./chevron-right-B6N1eNeM.js";import"./icon-CzQmg3IU.js";import"./index-Dbyz5HzH.js";import"./chevron-down-xhVcV5_u.js";import"./popover-I3F7hmrS.js";import"./badge-DWSw9Oue.js";import"./command-DuuoLEx7.js";import"./search-hS5aSloP.js";import"./circle-check-big-CY21J4OV.js";import"./clock-BGqytY1t.js";import"./monitor-play--kVwuPE-.js";import"./presentation-eCP7TAiz.js";import"./house-D5rrYIjj.js";import"./file-text-CMLC4YZt.js";import"./use-motion-value-BeIHqAkf.js";import"./proxy-Dz3dcyzR.js";import"./use-spring-D197r2XQ.js";import"./index-BNkJ0HUs.js";import"./chevron-left-tT-EbFZ1.js";import"./accordion-BndTuuUW.js";import"./chevron-up-CdlVISsE.js";import"./spotlight-vgDnej3X.js";import"./percent-ewEy9sIJ.js";import"./calendar-CYi8X5IH.js";import"./package-Bkw4vTNz.js";import"./badge-check-CSzRHVzL.js";import"./infinite-slider-u1MS27Sb.js";const x=["Ahmad Rizki","Siti Nurhaliza","Budi Santoso","Maya Sari","Andi Pratama","Dewi Lestari","Reza Fauzi","Indira Putri","Fajar Nugroho","Rina Maharani","Dimas Aditya","Lina Kartika","Arief Rahman","Tia Permata","Yoga Saputra","Nita Sari","Bayu Wijaya","Safira Anggraini","Hendra Gunawan","Mira Oktavia","Alif Firmansyah","Putri Wulandari","Irfan Hakim","Sari Melati","Doni Setiawan"];function C({products:t}){const[s,n]=l.useState(!0);return l.useEffect(()=>{if(!t||t.length===0)return;const r=()=>{const a=t[Math.floor(Math.random()*t.length)],m=x[Math.floor(Math.random()*x.length)],c=a.type==="course"?"Kelas Online":a.type==="bootcamp"?"Bootcamp":"Webinar";j.success(e.jsx("div",{className:"flex w-full min-w-0 items-start space-x-3",children:e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-900",children:e.jsx("span",{className:"font-semibold",children:m})}),e.jsxs("span",{className:"text-xs leading-relaxed break-words text-gray-500",children:["Baru saja membeli ",c,": "]}),e.jsx("span",{className:"text-xs leading-relaxed font-medium break-words text-gray-700",children:a.title})]})}),{duration:5e3,position:"bottom-left",style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",maxWidth:"350px",width:"350px",padding:"12px",wordBreak:"break-word",overflowWrap:"break-word"}})},i=setTimeout(r,1e4),o=setInterval(()=>{s&&r()},Math.random()*3e4+3e4);return()=>{clearTimeout(i),clearInterval(o)}},[t,s]),l.useEffect(()=>{const r=()=>{const o=window.scrollY+window.innerHeight,a=document.documentElement.scrollHeight;o>=a*.8?n(!1):n(!0)},i=()=>{n(!document.hidden)};return window.addEventListener("scroll",r),document.addEventListener("visibilitychange",i),()=>{window.removeEventListener("scroll",r),document.removeEventListener("visibilitychange",i)}},[]),null}function I({promotion:t,suppressDuration:s=24}){const[n,r]=l.useState(!1),[i,o]=l.useState(!1);l.useEffect(()=>{if(!t)return;const d=`promotion_${t.id}_dismissed`,f=localStorage.getItem(d);let p=!0;if(f){const u=new Date(f);(new Date().getTime()-u.getTime())/(1e3*60*60)<s&&(p=!1)}const h=new Date,g=new Date(t.start_date),w=new Date(t.end_date);if((h<g||h>w||!t.is_active)&&(p=!1),p){const u=setTimeout(()=>{r(!0)},2e3);return()=>clearTimeout(u)}},[t,s]);const a=()=>{r(!1);const d=`promotion_${t.id}_dismissed`;localStorage.setItem(d,new Date().toISOString())},m=()=>{t.url_redirect&&(!t.url_redirect.startsWith("/")&&!t.url_redirect.startsWith(window.location.origin)?window.open(t.url_redirect,"_blank","noopener,noreferrer"):window.location.href=t.url_redirect),a()},c=d=>{d.stopPropagation()};return t?e.jsx(S,{open:n,onOpenChange:r,children:e.jsx(v,{className:"flex h-[85vh] flex-col border-0 bg-transparent p-0 shadow-none",onClick:c,children:e.jsxs("div",{className:"relative flex h-full flex-col",children:[e.jsx(y,{onClick:a,variant:"secondary",size:"icon",className:"absolute -top-4 right-2 z-10 h-8 w-8 rounded-full bg-white shadow-lg hover:bg-gray-100",children:e.jsx(k,{className:"h-4 w-4"})}),e.jsxs("div",{className:"group relative flex min-h-0 flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-lg",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:m,children:[e.jsx("img",{src:t.promotion_flyer,alt:"Promosi Aksademy",className:`max-h-full max-w-full rounded-2xl object-contain transition-all duration-300 ${i?"brightness-90":""}`,onError:()=>{console.error("Error loading promotion image"),a()}}),e.jsx("div",{className:`absolute right-8 bottom-4 transition-all duration-300 ${i?"opacity-100":"opacity-60"}`,children:e.jsxs("div",{className:"rounded-full bg-white/90 px-3 py-1 text-xs font-medium text-gray-700 shadow-sm backdrop-blur-sm",children:["Klik untuk ",t.url_redirect?"detail":"tutup"]})})]})]})})}):null}function qe({tools:t,latestProducts:s,myProductIds:n,allProducts:r,activePromotion:i,referralInfo:o}){return l.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("ref");m?sessionStorage.setItem("referral_code",m):o.code&&sessionStorage.setItem("referral_code",o.code)},[o]),e.jsxs(N,{children:[e.jsx(b,{title:"Beranda"}),i&&e.jsx(I,{promotion:i,suppressDuration:3}),e.jsx(E,{}),e.jsx(_,{}),e.jsx(P,{}),e.jsx(T,{tools:t}),e.jsx(L,{latestProducts:s,myProductIds:n}),e.jsx(M,{}),e.jsx(A,{}),e.jsx(D,{}),typeof window<"u"&&window.innerWidth>=1024&&e.jsx(C,{products:r}),e.jsx("a",{href:"https://wa.me/+6285142505794?text=Halo%20Admin%20Aksademy,%20saya%20ingin%20bertanya%20tentang%20kelas%20online.",target:"_blank",rel:"noopener noreferrer",className:"fixed right-4 bottom-18 z-50 flex h-12 w-12 animate-bounce items-center justify-center rounded-full bg-green-100 shadow-lg transition duration-1000 hover:bg-green-200 md:right-10 md:h-16 md:w-16 lg:bottom-6","aria-label":"Chat WhatsApp",children:e.jsx("img",{src:"/assets/images/icon-wa.svg",alt:"WhatsApp",className:"h-8 w-8 md:h-12 md:w-12"})})]})}export{qe as default};
