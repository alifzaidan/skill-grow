import{r as e,j as d}from"./app-CJ7MAMU_.js";import{c as C}from"./utils-veSVYilN.js";import{u as I}from"./use-motion-value-IuUSNFJW.js";import{m as b}from"./proxy-XFudVk6f.js";const p=e.createContext(void 0);function N(){const t=e.useContext(p);if(!t)throw new Error("useCarousel must be used within an CarouselProvider");return t}function S({children:t,initialIndex:o=0,onIndexChange:a,disableDrag:s=!1}){const[n,i]=e.useState(o),[r,m]=e.useState(0),l=u=>{i(u),a==null||a(u)};return e.useEffect(()=>{i(o)},[o]),d.jsx(p.Provider,{value:{index:n,setIndex:l,itemsCount:r,setItemsCount:m,disableDrag:s},children:t})}function M({children:t,className:o,initialIndex:a=0,index:s,onIndexChange:n,disableDrag:i=!1}){const[r,m]=e.useState(a),l=s!==void 0,u=l?s:r,f=c=>{l||m(c),n==null||n(c)};return d.jsx(S,{initialIndex:u,onIndexChange:f,disableDrag:i,children:d.jsx("div",{className:C("group/hover relative",o),children:d.jsx("div",{className:"overflow-hidden",children:t})})})}function V({children:t,className:o,transition:a}){const{index:s,setIndex:n,setItemsCount:i,disableDrag:r}=N(),[m,l]=e.useState(1),u=I(0),f=e.useRef(null),c=e.Children.count(t);e.useEffect(()=>{if(!f.current)return;const v={root:f.current,threshold:.5},g=new IntersectionObserver(x=>{const j=x.filter(w=>w.isIntersecting).length;l(j)},v),E=f.current.children;return Array.from(E).forEach(x=>g.observe(x)),()=>g.disconnect()},[t,i]),e.useEffect(()=>{c&&i(c)},[c,i]);const h=()=>{const v=u.get();v<=-10&&s<c-1?n(s+1):v>=10&&s>0&&n(s-1)};return d.jsx(b.div,{drag:r?!1:"x",dragConstraints:r?void 0:{left:0,right:0},dragMomentum:r?void 0:!1,style:{x:r?void 0:u},animate:{translateX:`-${s*(100/m)}%`},onDragEnd:r?void 0:h,transition:a||{damping:18,stiffness:90,type:"spring",duration:.2},className:C("flex items-center",!r&&"cursor-grab active:cursor-grabbing",o),ref:f,children:t})}function X({children:t,className:o}){return d.jsx(b.div,{className:C("w-full min-w-0 shrink-0 grow-0 overflow-hidden",o),children:t})}export{M as C,V as a,X as b};
